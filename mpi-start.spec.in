#
# Copyright (c) 2006-2007 High Performance Computing Center Stuttgart,
#                         University of Stuttgart.  All rights reserved.
#

Summary: A generic startup mechanism for different MPI installation in a cluster/grid
Name: @NAME_PREFIX@mpi-start
Version: @VERSION@
Release: 1
License: GPLv2
Group: System Environment/Libraries
Source: @NAME_PREFIX@mpi-start-@VERSION@.tar.gz
URL: http://devel.ifca.es/mpi-start/
BuildRoot: %{_tmppath}/%{name}-%{version}-root
BuildArch: noarch

%description
A generic startup mechanism for different MPI installation in a cluster/grid.

%prep
%setup -q

%build
cd $RPM_BUILD_DIR/@NAME_PREFIX@mpi-start-@VERSION@
./configure --prefix=%{_prefix} --sysconfdir=%{_sysconfdir} --datadir=%{_datadir} --libdir=%{_libdir}
%{__make}

%install
rm -rf $RPM_BUILD_ROOT/*
cd $RPM_BUILD_DIR/@NAME_PREFIX@mpi-start-@VERSION@
%{__make} destdir=$RPM_BUILD_ROOT install

%clean
rm -rf $RPM_BUILD_ROOT/*

%files
%defattr(-,root,root,-)
%{_bindir}/mpi-start
%{_sysconfdir}/mpi-start/
%{_datadir}/doc/mpi-start-%{version}/
%config(noreplace) %{_sysconfdir}/profile.d/mpi_start.sh
%config(noreplace) %{_sysconfdir}/profile.d/mpi_start.csh

%changelog
* Fri Mar 4 2011 <enolfc _AT_ ifca.unican.es> - @VERSION@-1
- Fedora guidelines compliant package.
- See ChangeLog at doc directory.
